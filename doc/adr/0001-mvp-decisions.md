# ADR 0001 — Технический выбор для MVP бота-магазина тортов

## Контекст
- Нужен быстрый MVP Telegram-бота для продажи тортов (показ карточек, выбор веса/количества, корзина, оплата).
- Требование: KISS, минимальный стек, без оверинжиниринга, быстрый запуск и деплой.

## Решение
- Язык/рунтайм: Python 3.12+.
- Фреймворк бота: aiogram v3.
- Данные: in-memory (dict/list), без внешних БД на MVP.
- Оплата: Telegram Payments, один тестовый провайдер.
- Зависимости: uv.
- Автоматизация: make (install/run/test/docker).
- Тесты: pytest, только ключевая бизнес-логика (корзина, суммы, валидации).
- Деплой: один Docker-контейнер (python:3.12-slim); без docker-compose/оркестрации на MVP.
- Конфиг: только переменные окружения (`BOT_TOKEN`, `PAYMENT_PROVIDER_TOKEN`, опц. `BASE_URL`), парсинг в `config.py`; `.env` опционален локально.
- Логирование: стандартный `logging` INFO, вывод в stdout, формат `%(asctime)s %(levelname)s %(message)s`; логируем старт, ошибки, оформление/оплату.
- Архитектурный поток: handlers → services → storage (in-memory).
- Фото товаров: храним Telegram `file_id`, без внешних хранилищ/CDN.

## Последствия
- Плюсы: быстрый запуск, минимальный стек, простая доставка через один контейнер, нет внешних зависимостей (БД/кеш/брокер).
- Минусы: нет персистентности между рестартами (корзины/заказы/каталог пропадут); масштабирование ограничено одним процессом; нет разделения сред.
- Миграция дальше: добавить БД (SQLite/PostgreSQL), вынести конфиг в файлы/Secret Manager, включить линтеры/formatter и pre-commit, добавить docker-compose/оркестрацию при необходимости.




